#jinja2: lstrip_blocks: "True", trim_blocks: "True"
# {{ ansible_managed }}
{% for host in hostvars|sort %}
  {% for key, keytype in [("ansible_ssh_host_key_rsa_public", "ssh-rsa"),
      ("ansible_ssh_host_key_ecdsa_public", "ecdsa-sha2-nistp256"),
      ("ansible_ssh_host_key_ed25519_public", "ssh-ed25519")] %}
    {% if hostvars[host][key] is defined %}
{{ hostvars[host]["ansible_nodename"] }},{{ hostvars[host]["ansible_hostname"] }} {{ keytype }} {{ hostvars[host][key] }}
    {% endif %}
  {% endfor %}
{% endfor %}
